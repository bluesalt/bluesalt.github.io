
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Tips about Octopress - Jeff Li</title>
  <meta name="author" content="Jeff Li">

  
  <meta name="description" content="Add Tags and Tag Cloud Support to Octopress Basic Usage Trouble Shooting Use Redcarpet Markdown Engine Add Clicky Web Analysis Tool Add Table of &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://bluesalt.github.io/blog/2013/06/17/tips-about-octopress">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Jeff Li" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-49767927-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Jeff Li</a></h1>
  
    <h2>Be another Jeff</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:bluesalt.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Tips about Octopress</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-17T07:55:00+08:00" pubdate data-updated="true">Jun 17<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><ul id="markdown-toc">
  <li><a href="#add-tags-and-tag-cloud-support-to-octopress">Add Tags and Tag Cloud Support to Octopress</a>    <ul>
      <li><a href="#basic-usage">Basic Usage</a></li>
      <li><a href="#trouble-shooting">Trouble Shooting</a></li>
    </ul>
  </li>
  <li><a href="#use-redcarpet-markdown-engine">Use Redcarpet Markdown Engine</a></li>
  <li><a href="#add-clicky-web-analysis-tool">Add Clicky Web Analysis Tool</a></li>
  <li><a href="#add-table-of-content-to-the-post">Add Table of Content to the post</a></li>
  <li><a href="#shorten-the-homepage">Shorten the homepage</a></li>
  <li><a href="#fix-slow-speed-access-from-china">Fix slow speed access from China</a></li>
</ul>

<!--more-->

<h2 id="add-tags-and-tag-cloud-support-to-octopress">Add Tags and Tag Cloud Support to Octopress</h2>
<p><span class="caption-wrapper left"><span class="caption-text">Fig-1: Tags</span><img class="caption" src="/images/tags.png" width="500" height="250" alt="Fig-1: Tags" title="Fig-1: Tags" /></span>
<span class="caption-wrapper right"><span class="caption-text">Fig-2: Tag Cloud</span><img class="caption" src="/images/tag-cloud.png" width="250" height="500" alt="Fig-2: Tag Cloud" title="Fig-2: Tag Cloud" /></span></p>

<h4 id="basic-usage">Basic Usage</h4>
<p>After migrating my blog system from WordPress to Octopress, I have got more fun from blogging. Definitely Octopress is cool, however, no official support for tags and tag cloud makes it looks not so cool. IMO, using tags to organizing your posts is much more better using only categories. Luckily, after googling the topic, I found two plugins: <a href="https://github.com/robbyedwards/octopress-tag-pages">octopress-tag-pages</a> and <a href="https://github.com/robbyedwards/octopress-tag-cloud">octopress-tag-cloud</a>. The former generates tags for your posts(Fig-1)while the latter(Fig-2) collects all the tags and displays them in the aside area. The former can be applied without the latter while you have to install both plugins if you want to use tag cloud plugin.</p>

<p>Here I don’t want to talk too much about how to install the plugins because I think commit diffs can explain everything. This <a href="https://github.com/bluesalt/bluesalt.github.io/commit/d3e90232c14b4bc413567273fe5da9295d1be809">commit</a> shows you how to use the octopress-tag-pages plugin and this <a href="https://github.com/bluesalt/bluesalt.github.io/commit/628ee6fb8d92b0b910982122141882b45dee7dd1">one</a> demos how to use octopress-tag-cloud which is based on octopress-tag-pages.</p>

<h4 id="trouble-shooting">Trouble Shooting</h4>
<p>When playing with the tag-cloud plugin, I encounter the trouble when I try to run <code>rake generate</code>:</p>

<p><code>Liquid Exception: comparison of Array with Array failed in page</code></p>

<p>This would occur when every tag is applied for only ONCE. Not sure if this is a bug. Anyway you can simply apply one of the tags on more than one post.</p>

<p>P.S. When composing this post, I have found another useful plugin which add caption to image. Refer this post for the details:<a href="http://blog.zerosharp.com/image-captions-for-octopress/">Image Captions for Octopress</a></p>

<h2 id="use-redcarpet-markdown-engine">Use Redcarpet Markdown Engine</h2>
<p>As a programmer, I have got quite familiar with the markdown syntax which Github is used, the so called <em>Github Flavored Markdown</em>(GFM). Unfortunately, the default Markdown engine used by Octopress doesn’t support GFM. Good news is that it is very switch the Markdown engine in Octopress now. First upgrade jekyll to ~&gt; 0.12.1, then add ‘redcarpet’ gem to Gemfile and finally modify the _config.yml to switch the Markdown engine from <strong>rdiscount</strong> to <strong>redcarpet</strong>. Refer this <a href="https://github.com/bluesalt/bluesalt.github.io/commit/305a3d4b6ef55dd3230498aa06617a6c5bb0f8fd">commit</a> for more detail.</p>

<h2 id="add-clicky-web-analysis-tool">Add Clicky Web Analysis Tool</h2>
<p>Clicky is similar to Google Web Analysis. Unfortunately Octopress does not support Clicky by default, however, it is very easy to add Clicky analysis widget to your Octopress site. After registering your website from <a href="getclicky.com">Clicky</a>, a piece of Html code will be generated. All you need to do is add  the Html code snippet to <code>source/_includes/custom/after_footer.html</code>. Refer to this <a href="https://github.com/bluesalt/bluesalt.github.io/commit/648b13bafcd47a7499e5db0c296f7be9b8c3ed9b">commit</a> for more detail.</p>

<h2 id="add-table-of-content-to-the-post">Add Table of Content to the post</h2>
<p>Table of content can improve the read experience greatly. After goolging the topic for a short time, the most easy easy I found is <a href="http://blog.riemann.cc/2013/04/10/table-of-contents-in-octopress/">Robert Riemann’s tutorial</a>. If that is not clear, refer to the change set in my <a href="https://github.com/bluesalt/bluesalt.github.io/commit/77d28a7c7557b117e80094a2fc74de842a6af057">github repo</a>. It should be mentioned that after change the markdown engine from <code>redcarpet</code> to <code>kramdown</code>, the engine can’t parse the code block correctly. A blank line is required to be placed in front of the code block. </p>

<h2 id="shorten-the-homepage">Shorten the homepage</h2>
<p>By default, when you access the homepage of your blog, you will see every blog post will be displayed completely which is not so friendly to readers. A simple way is use the <code>&lt;!--more--&gt;</code> tag to customize excerpts which are shown in the homepage from the posts.</p>

<h2 id="fix-slow-speed-access-from-china">Fix slow speed access from China</h2>
<p>Octopress will use Google CDN to accelerate the access speed. However, Google CDN is blocked in China mainland due to some reasons which makes the fastest CDN become the slowest CDN. Quite ironical, isn’t it? Octopress use Google CDN in two place. One is the fonts and the other is the jQuery library.  Resolve jQuery issue is simply, just replace it with CloudFlare’s jQuery service. The fonts’ issue is not so easy because of some <a href="https://github.com/cdnjs/cdnjs/issues/682">reasons</a>. So I just remove the fonts service and so good so far. Refer <a href="https://github.com/bluesalt/bluesalt.github.io/commit/15531b15707bfd61f7e02e567d57397985a890ba">here</a> to see how to fix it.</p>

<p>Have fun!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jeff Li</span></span>

      








  


<time datetime="2013-06-17T07:55:00+08:00" pubdate data-updated="true">Jun 17<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/octopress/'>Octopress</a>
  
</span>


      

<span class="tags">
  
    <a class='tag' href='/tags/cool/'>cool</a>, <a class='tag' href='/tags/octopress/'>octopress</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/05/19/hello-world/" title="Previous Post: Hello world">&laquo; Hello world</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/07/29/jetty-maven-plugin-and-https-support/" title="Next Post: jetty-maven-plugin and https support">jetty-maven-plugin and https support &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/08/02/keep-python-grpc-client-connection-truly-alive/">Keep Python gRPC  Client Connection Truly Alive</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/07/19/notes-on-ansible-include/">Notes on Ansible Include</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/19/a-pitfall-of-vagrant-when-using-ansibles-wait-for-module/">A Pitfall of Vagrant When Using Ansible's wait_for Module</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/04/22/vagrant-networking-explained/">Vagrant Networking Explained</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/12/08/install-protocol-buffer-from-source-in-centos-7/">Install Protocol Buffer from Source in CentOS 7</a>
      </li>
    
  </ul>
</section>




<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/devops/'>DevOps (4)</a></li>
<li class='category'><a href='/blog/categories/golang/'>Golang (1)</a></li>
<li class='category'><a href='/blog/categories/java/'>Java (4)</a></li>
<li class='category'><a href='/blog/categories/linux/'>Linux (3)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>Octopress (1)</a></li>
<li class='category'><a href='/blog/categories/python/'>Python (2)</a></li>
<li class='category'><a href='/blog/categories/softwares/'>Softwares (1)</a></li>
<li class='category'><a href='/blog/categories/storage/'>Storage (2)</a></li>
<li class='category'><a href='/blog/categories/tips/'>Tips (2)</a></li>

  </ul>
</section>
<section>
  <h1>Topics</h1>
  <ul class="tag-cloud">
    <a style="font-size: 150%" href="/tags/ansible/">ansible</a>
<a style="font-size: 185%" href="/tags/avro/">avro</a>
<a style="font-size: 90%" href="/tags/concurrency/">concurrency</a>
<a style="font-size: 150%" href="/tags/cool/">cool</a>
<a style="font-size: 90%" href="/tags/fuse/">fuse</a>
<a style="font-size: 90%" href="/tags/go/">go</a>
<a style="font-size: 90%" href="/tags/grpc/">grpc</a>
<a style="font-size: 90%" href="/tags/https/">https</a>
<a style="font-size: 210%" href="/tags/java/">java</a>
<a style="font-size: 90%" href="/tags/jetty/">jetty</a>
<a style="font-size: 185%" href="/tags/kernel/">kernel</a>
<a style="font-size: 90%" href="/tags/kv/">kv</a>
<a style="font-size: 90%" href="/tags/linux/">linux</a>
<a style="font-size: 90%" href="/tags/mac/">mac</a>
<a style="font-size: 90%" href="/tags/maven/">maven</a>
<a style="font-size: 90%" href="/tags/nosql/">nosql</a>
<a style="font-size: 90%" href="/tags/octopress/">octopress</a>
<a style="font-size: 210%" href="/tags/oss/">oss</a>
<a style="font-size: 90%" href="/tags/protobuf/">protobuf</a>
<a style="font-size: 90%" href="/tags/python/">python</a>
<a style="font-size: 150%" href="/tags/systemtap/">systemtap</a>
<a style="font-size: 90%" href="/tags/textmate/">textmate</a>
<a style="font-size: 150%" href="/tags/tip/">tip</a>
<a style="font-size: 150%" href="/tags/tool/">tool</a>
<a style="font-size: 185%" href="/tags/vagrant/">vagrant</a>
<a style="font-size: 90%" href="/tags/wireshark/">wireshark</a>

  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - Jeff Li -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'bluesalt';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://bluesalt.github.io/blog/2013/06/17/tips-about-octopress/';
        var disqus_url = 'http://bluesalt.github.io/blog/2013/06/17/tips-about-octopress/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
