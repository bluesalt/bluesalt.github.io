
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Jeff Li</title>
  <meta name="author" content="Jeff Li">

  
  <meta name="description" content="Recipe 6: Serialize data as JSON data Recipe 7: Deserialize JSON data Recipe 8: Serialize array in JSON Recipe 9: Deserialize JSON array data Recipe &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://bluesalt.github.io/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Jeff Li" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-49767927-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Jeff Li</a></h1>
  
    <h2>Be another Jeff</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:bluesalt.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/categories/chinese-posts">Chinese Posts</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/08/avro-cookbook-part-iii/">Avro Cookbook : Part III</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-08T17:24:45+08:00" pubdate data-updated="true">Apr 8<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul id="markdown-toc">
  <li><a href="#recipe-6-serialize-data-as-json-data">Recipe 6: Serialize data as JSON data</a></li>
  <li><a href="#recipe-7-deserialize-json-data">Recipe 7: Deserialize JSON data</a></li>
  <li><a href="#recipe-8-serialize-array-in-json">Recipe 8: Serialize array in JSON</a></li>
  <li><a href="#recipe-9-deserialize-json-array-data">Recipe 9: Deserialize JSON array data</a></li>
  <li><a href="#recipe-10-deserialize-data-stream">Recipe 10: Deserialize data stream</a></li>
  <li><a href="#summary">Summary</a></li>
</ul>

<h2 id="recipe-6-serialize-data-as-json-data">Recipe 6: Serialize data as JSON data</h2>
<p>In <a href="http://jeffli.me/blog/2014/02/06/avro-cookbook-part-i/">Avro Cookbook : part I</a>, if you open the file <code>/tmp/log</code> created by recipe 3, you would find that it is definitely not a human readable text format. Avro provides the encoder/decoder mechanism which helps to serial the data to text format as JSON data.
</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/04/08/avro-cookbook-part-iii/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/05/avro-cookbook-part-ii/">Avro Cookbook : Part II</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:31:35+08:00" pubdate data-updated="true">Apr 5<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul id="markdown-toc">
  <li><a href="#recipe-5-serialize-data-without-code-generation">Recipe 5: Serialize data without Code Generation</a>    <ul>
      <li><a href="#parse-schema-from-string">Parse Schema from String</a></li>
      <li><a href="#parse-schema-from-disk-file">Parse Schema from Disk File</a></li>
      <li><a href="#parse-schema-from-existing-java-class">Parse Schema from Existing Java Class</a></li>
    </ul>
  </li>
</ul>

<h2 id="recipe-5-serialize-data-without-code-generation">Recipe 5: Serialize data without Code Generation</h2>
<p>In formal recipes, before using Avro to serialize/deserialize data, schema files have to be defined to be leveraged by Avro code generation facility to generate the Java classes. This is also recommended when using Avro in Java. However, it is not required. Actually, you can parse the schema on the fly without code generation.
</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/04/05/avro-cookbook-part-ii/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/06/avro-cookbook-part-i/">Avro Cookbook : Part I</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-06T15:49:00+08:00" pubdate data-updated="true">Feb 6<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul id="markdown-toc">
  <li><a href="#initialize-the-project-structure">Initialize the project structure</a></li>
  <li><a href="#tweak-the-pomxml">Tweak the pom.xml</a></li>
  <li><a href="#import-the-project-into-intellij-idea">Import the project into Intellij IDEA</a></li>
  <li><a href="#recipe-2-define-a-schema">Recipe 2: Define a Schema</a></li>
  <li><a href="#recipe-3-serialize-the-log-data-to-disk-file">Recipe 3: Serialize the Log Data to Disk File</a></li>
  <li><a href="#recipe-4-deserialize-the-log-data-from-disk-file">Recipe 4: Deserialize the Log Data from Disk File</a></li>
</ul>

<p>Avro is a data serialization framework. It is an Apache project led by Doug Cutting who is also the author of several other open source projects such as Hadoop, Lucene. Recently I need to leverage Avro to serialize/deserialize some data, however, I found its document is too poor, at least too poor for newbies like me who don’t have much experience on data exchange format frameworks. </p>

<p>In fact, it is very easy to understand what Avro can do. It helps to convert Java objects into bytes and vice versa. The key information the framework needs to know is the format of the date, namely ‘Schema’ in Avro. In this article, I won’t spend any time on explaining what Avro is. 
</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/02/06/avro-cookbook-part-i/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/29/jetty-maven-plugin-and-https-support/">jetty-maven-plugin and https support</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-29T22:46:00+08:00" pubdate data-updated="true">Jul 29<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul id="markdown-toc">
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#v6">V6</a></li>
  <li><a href="#v8">V8</a></li>
</ul>

<h3 id="introduction">Introduction</h3>
<p><code>jetty-maven-plugin</code>(formerly known as <code>maven-jetty-plugin</code>)is a maven plugin which enables the jetty container in maven project. It is very convenient in development environment since you can start the web app by issue only one command <code>mvn jetty:run</code>. By default it only supports http protocol. Additional configuration is necessary if https is required. Roughly we needs:</p>

<ul>
  <li>A development certificate</li>
  <li>Instruct the jetty plugin to use the certificate</li>
</ul>

<p>Besides <code>jetty-maven-plugin</code>, another maven plugin called <code>keytool-maven-plugin</code> is also needed to generate the certificate.
It should be noted that the plugin has evolved a lot since version 7. The configuration is different from different version. 
</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/07/29/jetty-maven-plugin-and-https-support/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/17/tips-about-octopress/">Tips about Octopress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-17T07:55:00+08:00" pubdate data-updated="true">Jun 17<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul id="markdown-toc">
  <li><a href="#add-tags-and-tag-cloud-support-to-octopress">Add Tags and Tag Cloud Support to Octopress</a>    <ul>
      <li><a href="#basic-usage">Basic Usage</a></li>
      <li><a href="#trouble-shooting">Trouble Shooting</a></li>
    </ul>
  </li>
  <li><a href="#use-redcarpet-markdown-engine">Use Redcarpet Markdown Engine</a></li>
  <li><a href="#add-clicky-web-analysis-tool">Add Clicky Web Analysis Tool</a></li>
  <li><a href="#add-table-of-content-to-the-post">Add Table of Content to the post</a></li>
  <li><a href="#shorten-the-homepage">Shorten the homepage</a></li>
  <li><a href="#fix-slow-speed-access-from-china">Fix slow speed access from China</a></li>
</ul>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/06/17/tips-about-octopress/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/19/hello-world/">Hello world</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-19T13:59:00+08:00" pubdate data-updated="true">May 19<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3 id="the-first-post-written-by-markdown">The first post written by markdown!</h3>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/25/test-if-a-value-implements-an-interface-in-golang/">Test if a value implements an interface in golang</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-25T06:11:00+08:00" pubdate data-updated="true">Sep 25<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We all know that type assert could be used to cast a interface type variable to its actual type value. In the other way, golang allows you to query if a value has implement an interface. This could be used when writing unit test cases, for example, you want to make sure that a struct actually implements certain interfaces.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/09/25/test-if-a-value-implements-an-interface-in-golang/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/18/bundles-command-error-in-textmate-2/">Bundles command error in TextMate 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-18T22:43:52+08:00" pubdate data-updated="true">Aug 18<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When getting the news that the famous text editor in Max OS platform–TextMate 2 had been released as an open source software in github, I couldn’t wait to  give it a try though I am a big fan of VIM. When trying to run scripts files such as Ruby, Python or Even Golang, I failed. The error information was shown like this :</p>

<p><em>/Users/xxxxxxx/Library/Application Support/TextMate/Managed/Bundles/Bundle Support.tmbundle/Support/shared/lib/escape.rb:23:in <code>e_url': undefined method </code>gsub’ for nil:NilClass (NoMethodError)</em>
<em>from (erb):21:in <code>header'_
_from /Users/xxxxxxx/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/erb.rb:835:in </code>eval’</em>
<em>from /Users/xxxxxxx/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/erb.rb:835:in <code>block in result'_
_from /Users/xxxxxxx/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/erb.rb:833:in </code>call’</em>
<em>from /Users/xxxxxxx/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/erb.rb:833:in <code>result'_
_from /Users/xxxxxxx/Library/Application Support/TextMate/Managed/Bundles/Bundle Support.tmbundle/Support/shared/lib/tm/htmloutput.rb:91:in </code>header’</em>
<em>from /Users/xxxxxxx/Library/Application Support/TextMate/Managed/Bundles/Bundle Support.tmbundle/Support/shared/lib/tm/htmloutput.rb:68:in <code>show'_
_from /Users/xxxxxxx/Library/Application Support/TextMate/Managed/Bundles/Bundle Support.tmbundle/Support/shared/lib/tm/executor.rb:110:in </code>run’</em>
_from /Users/xxxxxxx/Library/Application Support/Avian/Bundles/Go.tmbundle/Support/gomate.rb:63:in <code>launch'_
_from Run:4:in </code><main>&#8216;_</main></p>

<p>This is caused by the lack of themes files for the output window.The most easy way to solve this is getting the theme files and make the bundles find it.I am curious why doesn’t the textmate 2  ship with these files.
</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/08/18/bundles-command-error-in-textmate-2/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/05/19/a-pitfall-of-vagrant-when-using-ansibles-wait-for-module/">A Pitfall of Vagrant When Using Ansible&#8217;s wait_for Module</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/12/08/install-protocol-buffer-from-source-in-centos-7/">Install Protocol Buffer from Source in CentOS 7</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/12/06/a-beginners-guide-for-vagrant/">A Beginner&#8217;s Guide for Vagrant</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/12/02/getting-started-with-rocksdb-in-centos-7/">Getting Started with RocksDB in CentOS 7</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/14/build-latest-wireshark-in-centos-7/">Build Latest Wireshark in CentOS 7</a>
      </li>
    
  </ul>
</section>




<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/chinese-posts/'>Chinese Posts (1)</a></li>
<li class='category'><a href='/blog/categories/devops/'>DevOps (2)</a></li>
<li class='category'><a href='/blog/categories/golang/'>Golang (1)</a></li>
<li class='category'><a href='/blog/categories/java/'>Java (4)</a></li>
<li class='category'><a href='/blog/categories/linux/'>Linux (3)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>Octopress (1)</a></li>
<li class='category'><a href='/blog/categories/python/'>Python (1)</a></li>
<li class='category'><a href='/blog/categories/softwares/'>Softwares (1)</a></li>
<li class='category'><a href='/blog/categories/storage/'>Storage (2)</a></li>
<li class='category'><a href='/blog/categories/tips/'>Tips (2)</a></li>

  </ul>
</section>
<section>
  <h1>Topics</h1>
  <ul class="tag-cloud">
    <a style="font-size: 90%" href="/tags/ansible/">ansible</a>
<a style="font-size: 185%" href="/tags/avro/">avro</a>
<a style="font-size: 90%" href="/tags/concurrency/">concurrency</a>
<a style="font-size: 150%" href="/tags/cool/">cool</a>
<a style="font-size: 90%" href="/tags/fuse/">fuse</a>
<a style="font-size: 90%" href="/tags/go/">go</a>
<a style="font-size: 90%" href="/tags/https/">https</a>
<a style="font-size: 210%" href="/tags/java/">java</a>
<a style="font-size: 90%" href="/tags/jetty/">jetty</a>
<a style="font-size: 185%" href="/tags/kernel/">kernel</a>
<a style="font-size: 90%" href="/tags/kv/">kv</a>
<a style="font-size: 90%" href="/tags/linux/">linux</a>
<a style="font-size: 90%" href="/tags/mac/">mac</a>
<a style="font-size: 90%" href="/tags/maven/">maven</a>
<a style="font-size: 90%" href="/tags/nosql/">nosql</a>
<a style="font-size: 90%" href="/tags/octopress/">octopress</a>
<a style="font-size: 210%" href="/tags/oss/">oss</a>
<a style="font-size: 90%" href="/tags/protobuf/">protobuf</a>
<a style="font-size: 90%" href="/tags/python/">python</a>
<a style="font-size: 150%" href="/tags/systemtap/">systemtap</a>
<a style="font-size: 90%" href="/tags/textmate/">textmate</a>
<a style="font-size: 150%" href="/tags/tip/">tip</a>
<a style="font-size: 90%" href="/tags/tool/">tool</a>
<a style="font-size: 150%" href="/tags/vagrant/">vagrant</a>
<a style="font-size: 90%" href="/tags/wireshark/">wireshark</a>

  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - Jeff Li -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'bluesalt';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
